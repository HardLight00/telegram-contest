(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,,,,,,,,,,,,function(e,n,t){e.exports='<div class="login-form">\n    <img src="'+t(24)+'" alt="Telegram logo" class="login-form__icon"></img>\n    <h1 class="login-form__title">Sign in to Telegram</h1>\n    <h3 class="login-form__description">Please confirm your country and enter your phone number</h3>\n    <div class="input-group input-group_select">\n        <input type="text" name="country" id="country" class="login-form__country input-field" required>\n        <label>Country</label>\n        <div class="input-group__img"></div>\n    </div>\n    <div class="input-group">\n        <input type="phone" name="phone" id="phone" class="login-form__phone input-field" required>\n        <label>Phone</label>\n    </div>\n    <div class="login-form__keep"><input type="checkbox" name="keep" id="keep">\n        <label for="keep">Keep me signed in</label></div>\n    <button class="login-form__submit submit">NEXT</button>\n</div>'},function(e,n){e.exports='<div class="login-code">\n    <div class="login-code__icon">\n        <picture class="cd-tgsticker">\n\n        </picture>\n    </div>\n    <h1 class="login-code__title"></h1>\n    <h3 class="login-code__description">We have sent you an SMS with code</h3>\n    <div class="input-group">\n        <input type="text" name="code" id="code" class="login-code__code input-field" required>\n        <label>Code</label>\n    </div>\n</div>'},function(e,n,t){e.exports='<div class="login-password">\n    <div class="login-password__icon">\n        <picture class="cd-tgsticker">\n            <source type="application/x-tgsticker"\n                srcset="https://cdn4.telegram.space/file/sticker.tgs?token=QmTPOvI30R_r8Tp9sgGjr_dIXJiP77tHj22aGBqeXIWc1Vftf7SmKGlq2rsk_JEb-haLpDPqulvfIXe1wnblS7fBnKjKGeAvDQqjf2LMbQv-aB3S7VkFqjadNiEWs4Zod1tgmb5MLCzC1ScJv272iOAsfNxRsIHJmcCjD5QxDwlBz-Zl6OZlu07miTh7K-GnUXUfUCfT9LtZxMTTv7XJjDtxdYuMSkU_ndYqqZCs5gNnx5ui8qnMIsqTs971d39DnF2r-4xgjuJEhTuhKkzYBabHtjypUG20tJQzAJxRUAHlIc2Smryxfcdn4gTuwLdbq05q2TWyclvhsUBiArqBoA">\n        </picture>\n    </div>\n    <h1 class="login-password__title">Enter a password</h1>\n    <h3 class="login-password__description">Your account is protected with an additional password.</h3>\n    <div class="input-group">\n        <input type="password" name="code" id="code" class="login-password__password input-field" required>\n        <label>Password</label>\n        <img src="'+t(39)+'" class="login-password__eye">\n    </div>\n    <button class="login-password__submit submit" anim="ripple">NEXT</button>\n</div>'},function(e,n){e.exports='<div class="chat-page">\n    <div id="left" class="loading">\n        <div class="spinner"></div>\n    </div>\n    <div id="right"></div>\n</div>'},function(e,n,t){e.exports='<div class="register-page">\n    <div class="register-page__icon">\n        <img src="'+t(51)+'" alt="">\n    </div>\n    <h1 class="register-page__title">Your Name</h1>\n    <h3 class="register-page__description">Enter your name and add<br> a profile picture</h3>\n    <div class="input-group">\n        <input type="text" name="name" id="name" class="register-page__name input-field" required>\n        <label>Name</label>\n    </div>\n    <div class="input-group">\n        <input type="text" name="surname" id="surname" class="register-page__surname input-field" required>\n        <label>Last Name (Optional)</label>\n    </div>\n    <button class="register-page__submit submit">START MESSAGING</button>\n</div>'},function(e,n,t){e.exports='<div class="profile-image__paranja">\n    <div class="profile-image__pane">\n        <div class="close-button">\n            <img src="'+t(54)+'" alt="" class="close-icon">\n        </div>\n        <h3>Drag to Reposition</h3>\n        <div class="image-place"></div>\n        <div class="accept-button">\n            <img src="'+t(55)+'" alt="">\n        </div>\n    </div>\n</div>'},function(e,n,t){var i=t(20);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){n=e.exports=t(2)(!1);var i=t(8),o=i(t(21)),a=i(t(22)),r=i(t(23));n.push([e.i,'.login-form{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:120px}.login-form__submit{margin-top:24px}.login-form__popup{position:absolute;list-style:none;border-radius:10px;display:flex;flex-direction:column;z-index:10;max-width:360px;background:white;padding:0;margin-top:10px;padding-top:10px;margin-top:10px;max-height:270px;overflow:scroll;overflow-y:-moz-scrollbars-none;-ms-overflow-style:none;box-shadow:-2px 10px 26px -7px rgba(0,0,0,0.75)}.login-form__popup::-webkit-scrollbar{width:0 !important}.login-form__popup img{height:40px}.login-form__popup li{box-sizing:border-box;display:inline-flex;align-items:center;height:50px;min-height:50px;width:360px;padding-left:15px;padding-right:15px;vertical-align:middle}.login-form__popup li:hover{background:#f4f4f5}.login-form__popup li span{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.login-form__icon{width:160px;height:160px}.login-form__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-form__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-form__country{margin-top:50px}.login-form__phone{margin-top:22px}.login-form__keep{display:flex;margin-top:26px;width:360px;padding-left:32px;position:relative;overflow:hidden}.login-form__keep input{-webkit-appearance:none;background-color:white;border:1px solid rgba(218,220,224,0.75);padding:8px;border-radius:3px;display:inline-flex;position:relative}.login-form__keep input:active,.login-form__keep input:checked:active,.login-form__keep input:focus{outline:none}.login-form__keep input:checked{background:#4fa4f6;display:flex;justify-content:center;align-items:center}.login-form__keep input:checked:before{content:"";width:14px;height:14px;position:absolute;z-index:1;top:-2px;left:0;background-image:url('+o+")}.login-form__keep label{display:inline-block;margin-left:32px}.input-field{box-sizing:border-box;width:360px;height:55px;user-select:none;border-radius:10px;border:2px solid rgba(218,220,224,0.75);font-size:18px;line-height:55px;padding-left:14px}.input-field:focus{outline:none;border:2px solid #4fa4f6;caret-color:#4fa4f6}.input-field_invalid,.input-field_invalid:focus,.input-field_invalid:valid{border:2px solid #c53b39}.login-form__country:focus ~ .input-group__img{background:url("+a+")}.input-group{position:relative}.input-group__img{position:absolute;width:31px;height:31px;background:url("+r+');background-size:31px;bottom:11px;right:10px}.input-group label{color:#999;font-size:18px;font-weight:normal;position:absolute;pointer-events:none;left:14px;bottom:18px;transition:0.2s ease all}.input-group input:focus ~ label,.input-group input:valid ~ label{bottom:45px;font-size:12px;background:white;color:#4fa4f6;padding:2px}.input-group .input-field_invalid ~ label,.input-group .input-field_invalid:focus ~ label,.input-group .input-field_invalid:valid ~ label{color:#c53b39}.input-group_select input:focus ~ .input-group_select::after{color:#4fa4f6}.popup-item{display:flex;flex-direction:row;justify-content:space-between}.popup-item *{display:flex}.submit{width:360px;height:54px;background:#4fa4f6;border:0;border-radius:10px;color:white;font-size:15px;font-weight:500;outline:none;--ripple-background: black;--ripple-opacity: 0.08;--ripple-duration: 600ms;-webkit-tap-highlight-color:rgba(0,0,0,0);transition:background-color 300ms}[anim="ripple"]{position:relative;overflow:hidden}[anim="ripple"]:before{content:"";position:absolute;display:block;background:var(--ripple-background, white);border-radius:50%;pointer-events:none;top:calc(var(--y) * 1px);left:calc(var(--x) * 1px);width:calc(var(--d) * 1px);height:calc(var(--d) * 1px);opacity:calc(var(--o, 1) * var(--ripple-opacity, 0.3));transition:calc(var(--t, 0) * var(--ripple-duration, 600ms)) var(--ripple-easing, linear);transform:translate(-50%, -50%) scale(var(--s, 1));transform-origin:center}\n',""])},function(e,n,t){e.exports=t.p+"static/check_svg.svg"},function(e,n,t){e.exports=t.p+"static/up_svg.svg"},function(e,n,t){e.exports=t.p+"static/down_svg.svg"},function(e,n,t){e.exports=t.p+"static/logo.png"},,,,,,,,,,,,,function(e,n,t){var i=t(38);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,".login-code{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.login-code__icon{width:160px;height:160px}.login-code__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-code__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-code__code{margin-top:50px}\n",""])},function(e,n,t){e.exports=t.p+"static/eye1_svg.svg"},function(e,n,t){var i=t(41);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,".login-password{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.login-password__icon{width:160px;height:160px}.login-password__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-password__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-password__password{margin-top:50px}.login-password__eye{position:absolute;bottom:15px;right:10px;filter:opacity(33%)}.login-password__submit{margin-top:24px}\n",""])},function(e,n,t){var i=t(43);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,"* {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}",""])},function(e,n,t){var i=t(45);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,"*{margin:0;padding:0}.loading{display:flex;justify-content:center;align-items:center}\n",""])},function(e,n,t){var i=t(47);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,'#left{width:25%;height:100vh;display:flex;flex-direction:column;min-width:260px}.dialog{max-height:10vh;min-height:50px;display:grid;grid-template-columns:50px 1fr 60px;grid-template-rows:1fr 1fr;align-items:center;margin:0 8px;border-radius:8px;--ripple-background: black;--ripple-opacity: 0.08;--ripple-duration: 600ms}.dialog:hover{background-color:#f1f3f4;cursor:pointer}.dialog__avatar-wrapper{justify-self:center;grid-column:1;grid-row:span 2;width:40px;height:40px;border-radius:50%}.dialog__avatar{border-radius:50%;width:100%;height:100%}.dialog__avatar_online{position:relative}.dialog__avatar_online::before{position:absolute;content:"";height:8px;width:8px;border-radius:50%;background:#4dcd5e;border:1px solid white;right:2px;bottom:0}.dialog__name{grid-column:2;grid-row:1;font-weight:600;font-size:14px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dialog__short-msg{grid-column:2/3;grid-row:2;color:#777b7f;font-size:14px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dialog__time{grid-row:1;grid-column:3;padding:0 8px 0 4px;justify-self:right;color:#777b7f;font-size:12px}.dialog__unread-count{grid-row:2;grid-column:3;color:white;display:flex;justify-content:right;align-items:center;padding:2px 6px;font-size:12px;justify-self:flex-end;margin-right:8px;align-self:flex-start;border-radius:24px;background-color:#4dcd5e}.chat-page{display:flex}#right{min-width:35%;width:80%;height:100vh;background-color:#e6ebee}.spinner{display:inline-block;width:50px;height:50px;border:3px solid transparent;border-radius:50%;border-bottom-color:#4fa4f6;border-right-color:#4fa4f6;border-top-color:#4fa4f6;animation:spin 1s ease-in-out infinite}@keyframes spin{to{transform:rotate(360deg)}}@-webkit-keyframes spin{to{transform:rotate(360deg)}}\n',""])},function(e,n,t){var i=t(49);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){n=e.exports=t(2)(!1);var i=t(8)(t(50));n.push([e.i,'.menu{display:grid;grid-template-columns:60px auto;grid-template-rows:40px;margin-bottom:10px;padding-top:10px;align-items:center}.menu__search-wrapper{height:90%;width:95%;position:relative;align-items:center;display:flex}.menu__search-icon{height:14px;width:14px;position:absolute;fill:#c5cacc;bottom:15px;left:6px}.menu input[type="search"]{font-size:14px;border-radius:24px;width:100%;align-self:center;padding:10px 10px 10px 30px;border:none;background:#f4f4f5}.menu input[type="search"]::placeholder{color:#c5cacc}.menu input[type="search"]:focus{transition:0.4s;box-shadow:0 0 0 1.5pt #4fa4f6;outline:none}.menu input[type="search"]:focus+.menu__search-icon{fill:#4fa4f6}.menu__checkbox{position:relative;display:flex;justify-content:center;align-items:center;grid-column:1;grid-row:1;width:40px;height:40px;justify-self:center;cursor:pointer;transition:0.4s}.menu__checkbox:hover{background:#f4f4f5;border-radius:50%}.menu .menu-list{top:40px;left:10px;position:absolute;list-style:none;border-radius:10px;display:flex;flex-direction:column;z-index:10;max-width:200px;background:white;padding:0;margin-top:10px;padding-top:10px;overflow:hidden;box-shadow:1px 5px 14px -7px rgba(0,0,0,0.75)}.menu .menu-list::-webkit-scrollbar{width:0 !important}.menu .menu-list img{height:40px}.menu .menu-list li{box-sizing:border-box;display:inline-flex;align-items:center;height:50px;min-height:50px;width:360px;padding-left:15px;padding-right:15px;vertical-align:middle}.menu .menu-list li:hover{background:#f4f4f5}.menu .menu-list li span{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu .hidden{opacity:0}.menu__icon{background:url('+i+");width:50%;height:50%}\n",""])},function(e,n,t){e.exports=t.p+"static/menu_svg.svg"},function(e,n,t){e.exports=t.p+"static/cameraicon.svg"},function(e,n,t){var i=t(53);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,".register-page{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.register-page__icon{width:160px;height:160px;display:flex;background:#4fa4f6;border-radius:80px}.register-page__icon img{margin:auto;vertical-align:middle;filter:invert(1);width:48px}.register-page__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:31px;font-size:30px}.register-page__description{display:inline-block;margin-top:13px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:16px;font-weight:normal;line-height:1.4em;text-align:center}.register-page__name{margin-top:50px}.register-page__surname{margin-top:24px}.register-page__submit{margin-top:24px}\n",""])},function(e,n,t){e.exports=t.p+"static/close.svg"},function(e,n,t){e.exports=t.p+"static/check.svg"},function(e,n,t){var i=t(57);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};t(3)(i,o);i.locals&&(e.exports=i.locals)},function(e,n,t){(e.exports=t(2)(!1)).push([e.i,".profile-image__paranja{position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.3)}.profile-image__pane{position:relative;margin:auto;background:white;border-radius:10px;width:500px;height:500px;top:calc(60% - 250px)}.profile-image__pane h3{position:absolute;top:15px;left:80px}.accept-button,.close-button{position:absolute;background:#4fa4f6;width:53px;height:53px;display:flex;border-radius:26px}.accept-button img,.close-button img{position:relative;margin:auto;vertical-align:middle;display:inline-block;filter:invert(1)}.accept-button{bottom:22px;right:20px}.close-button{top:2px;left:10px;background:transparent}.close-button img{filter:none}\n",""])},function(e,n,t){"use strict";t.r(n);t(19);var i=t(13),o=t.n(i),a=t(1),r=t.n(a);telegramApi.setConfig({app:{id:1166576,hash:"99db6db0082e27973ee4357e4637aadc",version:"0.0.1"},server:{test:[{id:2,host:"149.154.167.40",port:443}],production:[{id:2,host:"149.154.167.40",port:443}]}});class s{constructor(){r()(this,"_convertDate",e=>{const n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let t=new Date(1e3*e);const i=new Date;return t=t.getDay()-i.getDay()==0?`${t.getHours()}:${t.getMinutes()}`:t.getDay()>(e=>{const n=e?new Date(e):new Date;n.setHours(0,0,0,0);const t=new Date(n);return t.setDate(1),t})(t)?n[t.getDay()]:(t=t.toLocaleDateString().replace(/[/]/g,".")).slice(0,6)+t.slice(8)}),r()(this,"spamMyself",async e=>{telegramApi.invokeApi("messages.sendMessage",{peer:{_:"inputPeerSelf"},message:e,random_id:Math.round(1e5*Math.random())})}),r()(this,"getDialogs",async e=>{const{result:n}=await telegramApi.getDialogs(0,e);console.log("CHATS",n);const{chats:t,dialogs:i,messages:o,users:a}=n,r=[];return await o.forEach((e,n)=>{const{first_name:t,last_name:o,status:s}=a[n],{date:l}=e;r.push({title:t+" "+o,isOnline:"userStatusOnline"===s._,text:e.message,time:this._convertDate(l),unreadCount:i[n].unread_count,dialog_peer:i[n].peer})}),r.sort((e,n)=>e.time-n.time),console.log(r),r}),r()(this,"mapPeerToTruePeer",e=>{const n=e._;return"peerUser"===n?{...e,_:"inputPeerUser",user_id:e.user_id.toString()}:"peerChat"===n?{...e,_:"inputPeerChat",chat_id:e.chat_id.toString()}:"peerChannel"===n?{...e,_:"inputPeerChannel",channel_id:e.channel_id.toString()}:e}),r()(this,"getMessagesFromPeer",async(e,n=10)=>await telegramApi.invokeApi("messages.getHistory",{peer:this.mapPeerToTruePeer(e),limit:n}))}}var l=t(7);const p=e=>{const n="string"==typeof e?document.querySelector(e):e;return function(...e){n.addEventListener(...e)}},c=e=>n=>{const t=document.createElement(e);return t.className=n,t},d=c("div");c("span");let u,g=[];const m=e=>{k();const n=e.replace(/\D/g,"").slice(0,15),t=Math.max(n.length-10,1),i=n.slice(0,t),o=n.slice(t);return o.length>=9?`+${i} ${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6,8)} ${o.slice(8)}`:o.length>=7?`+${i} ${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6)}`:o.length>=5?`+${i} ${o.slice(0,3)} ${o.slice(3)}`:o.length>=1?`+${i} ${o.slice(0)}`:`+${i}`},_=e=>{const n=e.target.value;n&&(e.target.value=m(n))},h=e=>(function(...n){document.querySelector(e).addEventListener(...n)}),f=e=>e.map(e=>`\n            <li class='popup-item'>\n                <span class='popup-item__flag'>${l[e.alpha]?l[e.alpha].emoji:"NONE"}</span>\n                <span class='popup-item__name'>${e.name}</span>\n                <span class='popup-item__code'>+ ${e.code}</span>\n            </li>\n        `).join(""),x=()=>{const e=document.getElementsByClassName("popup-item");Array.from(e,e=>e.addEventListener("click",e=>(e.stopPropagation(),(e=>{const n="LI"===e.target.tagName?e.target.querySelector(".popup-item__code").innerText:e.target.parentNode.querySelector(".popup-item__code").innerText,t="LI"===e.target.tagName?e.target.querySelector(".popup-item__name").innerText:e.target.parentNode.querySelector(".popup-item__name").innerText;document.querySelector(".login-form__phone").value=m(n),document.querySelector(".login-form__country").value=t,y()})(e))))},w=e=>{const n=e.toLowerCase();return g.filter(e=>e.name.toLowerCase().includes(n))},v=e=>{if(document.querySelector(".login-form__popup"))return;const n=document.createElement("ul");n.classList.add("login-form__popup"),n.innerHTML=f(e.target.value?w(e.target.value):g),e.target.parentNode.appendChild(n),x()},b=e=>{const n=e.target.value;e.target.parentNode.querySelector(".login-form__popup").innerHTML=f(w(n)),x()},y=()=>{const e=document.querySelector(".login-form__popup");e&&e.remove()},k=()=>{document.querySelector(".login-form__phone").classList.contains("input-field_invalid")&&(document.querySelector(".login-form__phone").classList.remove("input-field_invalid"),document.querySelector(".login-form__phone ~ label").innerHTML="Phone")},S=()=>{const e=document.querySelector(".login-form__phone").value;if(!e||e.length<11)return document.querySelector(".login-form__phone").classList.add("input-field_invalid"),void(document.querySelector(".login-form__phone ~ label").innerHTML="Invalid phone");telegramApi.sendCode(e).then(n=>{telegramApi.sendSms(e,n.phone_code_hash,n.next_type).then(()=>{window.phone_code_hash=n.phone_code_hash,u("login_code",{phone:e})})})},L=new class{constructor(){r()(this,"_apiBase","https://restcountries.eu/rest/v2"),r()(this,"_transformCountry",e=>({flagUrl:e.flag,name:e.name,code:e.callingCodes[0],alpha:e.alpha2Code})),r()(this,"getResource",async e=>{const n=await fetch(`${this._apiBase}${e}`,{method:"GET"});if(!n.ok)throw new Error(`Couldn't fetch ${e}, received ${n.status}`);return n.json()}),r()(this,"getAllCountries",async()=>{return(await this.getResource("/all")).map(this._transformCountry)})}};var q=(e,n)=>{u=n,e.innerHTML=o.a;const t=h(".login-form__country");t("focus",v),h("body")("click",y),t("click",e=>{e.stopPropagation()}),t("input",b),h(".login-form__phone")("input",_),h(".login-form__submit")("click",()=>{S()}),window.updateRipple(),L.getAllCountries().then(e=>{g=e}),telegramApi.getUserInfo().then(e=>{e.id&&u("chat_page")}).catch(e=>{console.log(e)})},C=t(14),T=t.n(C),E=(t(37),t(0)),M=t(5),A=t.n(M);let D,$;const z=e=>{document.querySelector(".login-code__code").classList.contains("input-field_invalid")&&(document.querySelector(".login-code__code").classList.remove("input-field_invalid"),document.querySelector(".login-code__code ~ label").innerHTML="Code");const n=e.target.value,t=n.replace(/\D/g,"").slice(0,5);console.log(n,t),5===t.length&&telegramApi.signIn($,window.phone_code_hash,t).then(e=>{"SESSION_PASSWORD_NEEDED"===e.type&&D("login_password"),D("chat_page")}).catch(e=>{"PHONE_NUMBER_UNOCCUPIED"===e.type?D("register_page",{phone:$,code:n}):"SESSION_PASSWORD_NEEDED"===e.type?D("login_password"):(document.querySelector(".login-code__code").classList.add("input-field_invalid"),document.querySelector(".login-code__code ~ label").innerHTML="Invalid Code",console.log(e))}),e.target.value=t},H=(e,n,t)=>()=>A.a.loadAnimation({container:document.querySelector(e),renderer:"svg",loop:t.loop||!1,autoplay:t.auto||!1,animationData:n}),N=(e,n)=>{window.current_animation.play(),window.current_animation.addEventListener("loopComplete",()=>{window.current_animation.destroy(),window.current_animation=e(),n&&window.current_animation.goToAndStop(n,!0)}),setTimeout(()=>{window.current_animation.destroy(),window.current_animation=e(),n&&window.current_animation.goToAndStop(n,!0)},500)},j=e=>{switch(e){case 0:return[0,15];case 1:return[15,30];case 2:return[30,45];case 3:return[45,60];case 4:return[60,75];case 5:return[75,90];case 6:return[90,100]}};let I=-1;var P=(e,n,t={})=>{e.innerHTML=T.a,D=n,$=t.phone,e.querySelector(".login-code__title").innerHTML=$;const i=H(".cd-tgsticker",E.idle,{auto:!0,loop:!0}),o=H(".cd-tgsticker",E.track,{auto:!1});window.current_animation=i();const a=(e=>(function(...n){document.querySelector(e).addEventListener(...n)}))(".login-code__code");a("focus",({target:e})=>{N(o,Math.max(e.value.length,1)+25)}),a("focusout",()=>{N(i)}),a("input",e=>{const n=e.target.value.length>I?j(e.target.value.length):j(e.target.value.length).reverse();window.current_animation.playSegments(n,!0),I=e.target.value.length}),a("input",z)},R=t(15),O=t.n(R);t(40);let B;const U={password:!0,closed:!1},J=e=>(function(...n){document.querySelector(e).addEventListener(...n)}),G=(e,n,t)=>()=>A.a.loadAnimation({container:document.querySelector(e),renderer:"svg",loop:t.loop||!1,autoplay:t.auto||!1,animationData:n}),W=e=>{telegramApi.signIn2FA(e).then(e=>{console.log(e),B("chat_page")}).catch(e=>{console.log(e),document.querySelector(".login-password__password").classList.add("input-field_invalid"),document.querySelector(".login-password__password ~ label").value="Invalid Password"})};var X=(e,n)=>{e.innerHTML=O.a,B=n,window.current_animation=G(".cd-tgsticker",E.idle,{auto:!0,loop:!0})(),J(".login-password__password")("input",()=>{document.querySelector(".login-password__password").classList.contains("input-field_invalid")&&(document.querySelector(".login-password__password").classList.remove("input-field_invalid"),document.querySelector(".login-password__password ~ label").innerHTML="Password")}),J(".login-password__password")("focus",()=>{U.closed||((e=>{window.current_animation&&window.current_animation.destroy();const n=".cd-tgsticker";e?(window.current_animation=G(n,E.close_peek,{auto:!0})(),window.current_animation.playSegments([0,25],!0),window.current_animation.addEventListener("complete",()=>{window.current_animation.destroy(),window.current_animation=G(n,E.peek,{auto:!0})(),window.current_animation.goToAndStop(0,!0)})):(window.current_animation=G(n,E.close_peek,{auto:!0})(),window.current_animation.playSegments([25,0],!0),window.current_animation.addEventListener("complete",()=>{window.current_animation.destroy(),window.current_animation=G(n,E.idle,{auto:!0,loop:!0})()}))})(!0),U.closed=!0)}),J(".login-password__submit")("click",()=>{W(document.querySelector(".login-password__password").value)}),J(".login-password__eye")("click",()=>{document.querySelector(".login-password__password").setAttribute("type",U.password?"text":"password"),(e=>{window.current_animation&&window.current_animation.destroy();const n=".cd-tgsticker";e?(window.current_animation=G(n,E.peek,{auto:!0})(),window.current_animation.playSegments([20,32],!0)):(window.current_animation=G(n,E.peek,{auto:!0})(),window.current_animation.playSegments([32,20],!0))})(!U.password),U.password=!U.password,U.closed=!0}),window.updateRipple()},Z=(t(42),t(44),t(46),t(16)),F=t.n(Z);t(48);const K=e=>{const n=document.getElementById("user-dialogs");n.data||(n.data=Array.from(n.children)),n.innerHTML="";const t=e.target.value.toLowerCase();Array.from(n.data.filter(e=>e.getAttribute("name").toLowerCase().includes(t)),e=>n.appendChild(e))},Y=()=>{const e=d("menu__search-wrapper"),n=d("menu__search-icon");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n\t<path fill-rule="nonzero" d="M9.5,3 C13.0898509,3 16,5.91014913 16,9.5 C16,10.9337106 15.5358211,12.2590065 14.7495478,13.3338028 L19.7071068,18.2928932 C20.0976311,18.6834175 20.0976311,19.3165825 19.7071068,19.7071068 C19.3466228,20.0675907 18.7793918,20.0953203 18.3871006,19.7902954 L18.2928932,19.7071068 L13.3338028,14.7495478 C12.2590065,15.5358211 10.9337106,16 9.5,16 C5.91014913,16 3,13.0898509 3,9.5 C3,5.91014913 5.91014913,3 9.5,3 Z M9.5,5 C7.01471863,5 5,7.01471863 5,9.5 C5,11.9852814 7.01471863,14 9.5,14 C11.9852814,14 14,11.9852814 14,9.5 C14,7.01471863 11.9852814,5 9.5,5 Z"/>\n</svg>\n';const t=((e,n,t)=>{const i=c("input")(n);return i.type=e,i.placeholder=t,i})("search","menu__search","Search");return e.appendChild(t),e.appendChild(n),p(t)("input",K),e},Q=({id:e})=>{console.log(e),(e=>{const n=document.createElement("div");e.innerHTML="",n.className="spinner",e.appendChild(n),e.classList.add("loading")})(document.getElementById("right"))},V=()=>{const e=document.createElement("div");e.id="user-dialogs";const n=new s,t=document.getElementById("left");return n.getDialogs(2).then(n=>{n.map(n=>{const t=(e=>{var n=document.createElement("template");return e=e.trim(),n.innerHTML=e,n.content.firstChild})((({avatar:e="https://pcentr.by/assets/images/users/7756f7da389c7a20eab610d826a25ec7.jpg",unreadCount:n,title:t,isOnline:i,text:o,time:a})=>`\n<div class="dialog" name="${t}"anim="ripple">\n    <div class="dialog__avatar-wrapper${i?" dialog__avatar_online":""}">\n        <img src="${e}" alt="avatar" class="dialog__avatar">\n    </div>\n    <div class="dialog__name">${t}</div>\n    <div class="dialog__short-msg">${o}</div>\n    <div class="dialog__time">${a}</div>\n    ${n>0?`<div class="dialog__unread-count">${n}</div>`:""}\n</div>`)(n)),{id:i}=n;p(t)("click",()=>Q({id:i})),e.appendChild(t)});const t=document.getElementById("left");(e=>{e.innerHTML="",e.classList.remove("loading")})(t),(e=>{const n=document.createElement("nav");n.className="menu",n.innerHTML='<nav type="checkbox" id="menu__checkbox" class="menu__checkbox">\n    <div class="menu__icon"></div>\n    <ul class="menu-list hidden">\n        <li class="menu-list__new-group">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n        <li class="menu-list__contacts">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n        <li class="menu-list__archived">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n        <li class="menu-list__saved">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n        <li class="menu-list__settings">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n        <li class="menu-list__help">\n            <img src="" alt="">\n            <div class="menu-list__text"></div>\n        </li>\n    </ul>\n</nav>',n.appendChild(Y()),e.appendChild(n);const t=document.querySelector(".menu-list");p("#menu__checkbox")("click",()=>t.classList.toggle("hidden"))})(t),t.appendChild(e),window.updateRipple()}),t};var ee=e=>{e.innerHTML=F.a,V()},ne=t(17),te=t.n(ne),ie=(t(52),t(18)),oe=t.n(ie);t(56);const ae=e=>(function(...n){document.querySelector(e).addEventListener(...n)});let re,se,le;const pe=()=>{const e=document.querySelector(".register-page__name").value,n=document.querySelector(".register-page__surname").value;e?telegramApi.signUp(se,window.phone_code_hash,le,e,n).then(e=>{re("chat_page")}).catch(e=>{console.log("ERROR: ",e)}):alert("Write name!")};var ce=(e,n,t)=>{e.innerHTML=te.a,se=t.phone,le=t.code,re=n,ae(".register-page__icon")("click",()=>{(e=>{const n=document.createElement("div");n.innerHTML=oe.a,document.body.append(n),document.querySelector(".profile-image__paranja").addEventListener("click",n=>{n.target.remove(),e&&e()})})()}),ae(".register-page__submit")("click",pe)};const de=(e=>document.querySelector(e))(".root");let ue={history:["login"]};const ge=(e,...n)=>{(e=>(function(...n){const[t,i]=[ue,e(...n)];ue={...t,...i}}))(()=>({history:[...ue.history,e]}))(),(e=>{switch(e){case"login":return q;case"login_code":return P;case"login_password":return X;case"register_page":return ce;case"chat_page":return ee;default:return()=>{throw new ReferenceError("No such page")}}})(e)(de,ge,...n)};var me;window.updateRipple=()=>{[].map.call(document.querySelectorAll('[anim="ripple"]'),e=>{console.log(e),e.addEventListener("click",n=>{n=n.touches?n.touches[0]:n;const t=e.getBoundingClientRect(),i=2*Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2));e.style.cssText="--s: 0; --o: 1;",e.offsetTop,e.style.cssText=`--t: 1; --o: 0; --d: ${i}; --x:${n.clientX-t.left}; --y:${n.clientY-t.top};`})})},me=function(){q(de,ge)},document.addEventListener("DOMContentLoaded",me)}],[[58,1,4,0]]]);
//# sourceMappingURL=index.bundle.js.map