(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,,,,,,,,,,,function(e,t,n){e.exports='<div class="login-form">\n    <img src="'+n(25)+'" alt="Telegram logo" class="login-form__icon"></img>\n    <h1 class="login-form__title">Sign in to Telegram</h1>\n    <h3 class="login-form__description">Please confirm your country and enter your phone number</h3>\n    <div class="input-group input-group_select">\n        <input type="text" name="country" id="country" class="login-form__country input-field" required>\n        <label>Country</label>\n        <div class="input-group__img"></div>\n    </div>\n    <div class="input-group">\n        <input type="phone" name="phone" id="phone" class="login-form__phone input-field" required>\n        <label>Phone</label>\n    </div>\n    <div class="login-form__keep"><input type="checkbox" name="keep" id="keep">\n        <label for="keep">Keep me signed in</label></div>\n    <button class="login-form__submit submit">NEXT</button>\n</div>'},function(e,t){e.exports='<div class="login-code">\n    <div class="login-code__icon">\n        <picture class="cd-tgsticker">\n\n        </picture>\n    </div>\n    <h1 class="login-code__title"></h1>\n    <h3 class="login-code__description">We have sent you an SMS with code</h3>\n    <div class="input-group">\n        <input type="text" name="code" id="code" class="login-code__code input-field" required>\n        <label>Code</label>\n    </div>\n</div>'},function(e,t,n){e.exports='<div class="login-password">\n    <div class="login-password__icon">\n        <picture class="cd-tgsticker">\n            <source type="application/x-tgsticker"\n                srcset="https://cdn4.telegram.space/file/sticker.tgs?token=QmTPOvI30R_r8Tp9sgGjr_dIXJiP77tHj22aGBqeXIWc1Vftf7SmKGlq2rsk_JEb-haLpDPqulvfIXe1wnblS7fBnKjKGeAvDQqjf2LMbQv-aB3S7VkFqjadNiEWs4Zod1tgmb5MLCzC1ScJv272iOAsfNxRsIHJmcCjD5QxDwlBz-Zl6OZlu07miTh7K-GnUXUfUCfT9LtZxMTTv7XJjDtxdYuMSkU_ndYqqZCs5gNnx5ui8qnMIsqTs971d39DnF2r-4xgjuJEhTuhKkzYBabHtjypUG20tJQzAJxRUAHlIc2Smryxfcdn4gTuwLdbq05q2TWyclvhsUBiArqBoA">\n        </picture>\n    </div>\n    <h1 class="login-password__title">Enter a password</h1>\n    <h3 class="login-password__description">Your account is protected with an additional password.</h3>\n    <div class="input-group">\n        <input type="password" name="code" id="code" class="login-password__password input-field" required>\n        <label>Password</label>\n        <img src="'+n(40)+'" class="login-password__eye">\n    </div>\n    <button class="login-password__submit submit" anim="ripple">NEXT</button>\n</div>'},function(e,t){e.exports='<div class="chat-page">\n    <div id="left" class="loading">\n        <div class="spinner"></div>\n    </div>\n    <div id="right"></div>\n</div>'},function(e,t,n){e.exports='<nav type="checkbox" id="menu__checkbox" class="menu__checkbox">\n    <img class="menu__icon" src="'+n(53)+'"></img>\n    <ul class="menu-list hidden popup">\n        <li class="menu-list__new-group popup-item">\n            <img src="'+n(54)+'" alt="">\n            <div class="menu-list__text">New group</div>\n        </li>\n        <li class="menu-list__contacts popup-item">\n            <img src="'+n(55)+'" alt="">\n            <div class="menu-list__text">Contacts</div>\n        </li>\n        <li class="menu-list__archived popup-item">\n            <img src="'+n(56)+'" alt="">\n            <div class="menu-list__text">Archived</div>\n        </li>\n        <li class="menu-list__saved popup-item">\n            <img src="'+n(57)+'" alt="">\n            <div class="menu-list__text">Saved</div>\n        </li>\n        <li class="menu-list__settings popup-item">\n            <img src="'+n(58)+'" alt="">\n            <div class="menu-list__text">Setting</div>\n        </li>\n        <li class="menu-list__help popup-item">\n            <img src="'+n(59)+'" alt="">\n            <div class="menu-list__text">Help</div>\n        </li>\n    </ul>\n</nav>'},function(e,t,n){e.exports='<div class="register-page">\n    <div class="register-page__icon">\n        <img src="'+n(66)+'" alt="">\n    </div>\n    <h1 class="register-page__title">Your Name</h1>\n    <h3 class="register-page__description">Enter your name and add<br> a profile picture</h3>\n    <div class="input-group">\n        <input type="text" name="name" id="name" class="register-page__name input-field" required>\n        <label>Name</label>\n    </div>\n    <div class="input-group">\n        <input type="text" name="surname" id="surname" class="register-page__surname input-field" required>\n        <label>Last Name (Optional)</label>\n    </div>\n    <button class="register-page__submit submit">START MESSAGING</button>\n</div>'},function(e,t,n){e.exports='<div class="profile-image__paranja">\n    <div class="profile-image__pane">\n        <div class="close-button">\n            <img src="'+n(69)+'" alt="" class="close-icon">\n        </div>\n        <h3>Drag to Reposition</h3>\n        <div class="image-place"></div>\n        <div class="accept-button">\n            <img src="'+n(70)+'" alt="">\n        </div>\n    </div>\n</div>'},function(e,t,n){var i=n(20);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(!1);var i=n(21),o=i(n(22)),r=i(n(23)),a=i(n(24));t.push([e.i,'.login-form{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:120px}.login-form__submit{margin-top:24px}.login-form__popup{max-width:360px;max-height:270px;overflow:scroll;box-shadow:-2px 10px 26px -7px rgba(0,0,0,0.75)}.login-form__popup::-webkit-scrollbar{width:0 !important}.login-form__popup img{height:40px}.login-form__popup li{box-sizing:border-box;display:inline-flex;align-items:center;height:50px;min-height:50px;width:360px;padding-left:15px;padding-right:15px;vertical-align:middle}.login-form__popup li:hover{background:#f4f4f5}.login-form__popup li span{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.login-form__icon{width:160px;height:160px}.login-form__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-form__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-form__country{margin-top:50px}.login-form__phone{margin-top:22px}.login-form__keep{display:flex;margin-top:26px;width:360px;padding-left:32px;position:relative;overflow:hidden}.login-form__keep input{-webkit-appearance:none;background-color:white;border:1px solid rgba(218,220,224,0.75);padding:8px;border-radius:3px;display:inline-flex;position:relative}.login-form__keep input:active,.login-form__keep input:checked:active,.login-form__keep input:focus{outline:none}.login-form__keep input:checked{background:#4fa4f6;display:flex;justify-content:center;align-items:center}.login-form__keep input:checked:before{content:"";width:14px;height:14px;position:absolute;z-index:1;top:-2px;left:0;background-image:url('+o+")}.login-form__keep label{display:inline-block;margin-left:32px}.input-field{box-sizing:border-box;width:360px;height:55px;user-select:none;border-radius:10px;border:2px solid rgba(218,220,224,0.75);font-size:18px;line-height:55px;padding-left:14px}.input-field:focus{outline:none;border:2px solid #4fa4f6;caret-color:#4fa4f6}.input-field_invalid,.input-field_invalid:focus,.input-field_invalid:valid{border:2px solid #c53b39}.login-form__country:focus ~ .input-group__img{background:url("+r+")}.input-group{position:relative}.input-group__img{position:absolute;width:31px;height:31px;background:url("+a+');background-size:31px;bottom:11px;right:10px}.input-group label{color:#999;font-size:18px;font-weight:normal;position:absolute;pointer-events:none;left:14px;bottom:18px;transition:0.2s ease all}.input-group input:focus ~ label,.input-group input:valid ~ label{bottom:45px;font-size:12px;background:white;color:#4fa4f6;padding:2px}.input-group .input-field_invalid ~ label,.input-group .input-field_invalid:focus ~ label,.input-group .input-field_invalid:valid ~ label{color:#c53b39}.input-group_select input:focus ~ .input-group_select::after{color:#4fa4f6}.popup-item{display:flex;flex-direction:row;justify-content:space-between}.popup-item *{display:flex}.submit{width:360px;height:54px;background:#4fa4f6;border:0;border-radius:10px;color:white;font-size:15px;font-weight:500;outline:none;--ripple-background: black;--ripple-opacity: 0.08;--ripple-duration: 600ms;-webkit-tap-highlight-color:rgba(0,0,0,0);transition:background-color 300ms}[anim="ripple"]{position:relative;overflow:hidden}[anim="ripple"]:before{content:"";position:absolute;display:block;background:var(--ripple-background, white);border-radius:50%;pointer-events:none;top:calc(var(--y) * 1px);left:calc(var(--x) * 1px);width:calc(var(--d) * 1px);height:calc(var(--d) * 1px);opacity:calc(var(--o, 1) * var(--ripple-opacity, 0.3));transition:calc(var(--t, 0) * var(--ripple-duration, 600ms)) var(--ripple-easing, linear);transform:translate(-50%, -50%) scale(var(--s, 1));transform-origin:center}\n',""])},,function(e,t,n){e.exports=n.p+"static/check_svg.svg"},function(e,t,n){e.exports=n.p+"static/up_svg.svg"},function(e,t,n){e.exports=n.p+"static/down_svg.svg"},function(e,t,n){e.exports=n.p+"static/logo.png"},,,,,,,,,,,,,function(e,t,n){var i=n(39);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".login-code{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.login-code__icon{width:160px;height:160px}.login-code__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-code__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-code__code{margin-top:50px}\n",""])},function(e,t,n){e.exports=n.p+"static/eye1_svg.svg"},function(e,t,n){var i=n(42);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".login-password{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.login-password__icon{width:160px;height:160px}.login-password__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:45px;font-size:30px;font-weight:normal}.login-password__description{display:inline-block;margin-top:15px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:0.95em;font-weight:normal;line-height:1.4em;text-align:center}.login-password__password{margin-top:50px}.login-password__eye{position:absolute;bottom:15px;right:10px;filter:opacity(33%)}.login-password__submit{margin-top:24px}\n",""])},function(e,t,n){var i=n(44);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"* {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}",""])},function(e,t,n){var i=n(46);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"*{margin:0;padding:0}.loading{display:flex;justify-content:center;align-items:center}\n",""])},function(e,t,n){var i=n(48);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".popup{position:absolute;list-style:none;border-radius:10px;display:flex;flex-direction:column;z-index:10;background:white;padding:0;margin-top:10px;overflow:scroll;overflow-y:-moz-scrollbars-none;-ms-overflow-style:none}.popup::-webkit-scrollbar{width:0 !important}.popup img{height:40px}.popup li{box-sizing:border-box;display:inline-flex;align-items:center;height:50px;padding-left:15px;padding-right:15px;vertical-align:middle}.popup li:hover{background:#f4f4f5}.popup li span{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n",""])},function(e,t,n){var i=n(50);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'#left{width:25%;height:100vh;display:flex;flex-direction:column;min-width:260px}.dialog{max-height:10vh;min-height:50px;display:grid;grid-template-columns:50px 1fr 60px;grid-template-rows:1fr 1fr;align-items:center;margin:0 8px;border-radius:8px;--ripple-background: black;--ripple-opacity: 0.08;--ripple-duration: 600ms}.dialog:hover{background-color:#f1f3f4;cursor:pointer}.dialog__avatar-wrapper{justify-self:center;grid-column:1;grid-row:span 2;width:40px;height:40px;border-radius:50%}.dialog__avatar{border-radius:50%;width:100%;height:100%}.dialog__avatar_online{position:relative}.dialog__avatar_online::before{position:absolute;content:"";height:8px;width:8px;border-radius:50%;background:#4dcd5e;border:1px solid white;right:2px;bottom:0}.dialog__name{grid-column:2;grid-row:1;font-weight:600;font-size:14px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dialog__short-msg{grid-column:2/3;grid-row:2;color:#777b7f;font-size:14px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dialog__time{grid-row:1;grid-column:3;padding:0 8px 0 4px;justify-self:right;color:#777b7f;font-size:12px}.dialog__unread-count{grid-row:2;grid-column:3;color:white;display:flex;justify-content:right;align-items:center;padding:2px 6px;font-size:12px;justify-self:flex-end;margin-right:8px;align-self:flex-start;border-radius:24px;background-color:#4dcd5e}.chat-page{display:flex}#right{min-width:35%;width:80%;height:100vh;background-color:#e6ebee}.spinner{display:inline-block;width:50px;height:50px;border:3px solid transparent;border-radius:50%;border-bottom-color:#4fa4f6;border-right-color:#4fa4f6;border-top-color:#4fa4f6;animation:spin 1s ease-in-out infinite}@keyframes spin{to{transform:rotate(360deg)}}@-webkit-keyframes spin{to{transform:rotate(360deg)}}\n',""])},function(e,t,n){var i=n(52);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'.menu{display:grid;grid-template-columns:60px auto;grid-template-rows:40px;margin-bottom:10px;padding-top:10px;align-items:center}.menu__search-wrapper{height:90%;width:95%;position:relative;align-items:center;display:flex}.menu__search-icon{height:14px;width:14px;position:absolute;fill:#c5cacc;bottom:15px;left:6px}.menu input[type="search"]{font-size:14px;border-radius:24px;width:100%;align-self:center;padding:10px 10px 10px 30px;border:none;background:#f4f4f5}.menu input[type="search"]::placeholder{color:#c5cacc}.menu input[type="search"]:focus{transition:0.4s;box-shadow:0 0 0 1.5pt #4fa4f6;outline:none}.menu input[type="search"]:focus+.menu__search-icon{fill:#4fa4f6}.menu__checkbox{position:relative;display:flex;justify-content:center;align-items:center;grid-column:1;grid-row:1;width:40px;height:40px;justify-self:center;cursor:pointer;transition:0.4s}.menu__checkbox:hover{background:#f4f4f5;border-radius:50%}.menu .menu-list{transition:0.4s;top:40px;left:10px;max-width:200px;overflow:hidden;box-shadow:1px 5px 14px -7px rgba(0,0,0,0.75)}.menu .menu-list li{justify-content:flex-start;width:200px}.menu .menu-list li:first-child{margin-top:10px}.menu .menu-list li:last-child{margin-bottom:10px}.menu .menu-list li img{width:24px;height:24px;padding-right:25px}.menu .hidden{display:none}.menu__icon{width:50%;height:50%}\n',""])},function(e,t,n){e.exports=n.p+"static/menu_svg.svg"},function(e,t,n){e.exports=n.p+"static/group_svg.svg"},function(e,t,n){e.exports=n.p+"static/user_svg.svg"},function(e,t,n){e.exports=n.p+"static/archive_svg.svg"},function(e,t,n){e.exports=n.p+"static/savedmessages_svg.svg"},function(e,t,n){e.exports=n.p+"static/settings_svg.svg"},function(e,t,n){e.exports=n.p+"static/help_svg.svg"},function(e,t,n){var i=n(61);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'.bubble{margin:5px;padding:10px;position:relative}.incoming{margin-left:20px;border-radius:.5em .5em .5em 0;align-self:flex-start;float:left;background-color:#FFFFFF;border:0 solid #FFFFFF}.incoming:after{content:" ";position:absolute;left:-15px;border:20px solid transparent;border-right-color:inherit;border-left:0;border-bottom:0;bottom:0}.outgoing{margin:5px 20px 5px 5px;padding:5px;border-radius:.5em .5em 0 .5em;align-self:flex-end;float:right;background-color:#EEFFDF;border:0 solid #EEFFDF}.outgoing:after{content:" ";position:absolute;right:-15px;border:20px solid transparent;border-left-color:inherit;border-right:0;border-bottom:0;bottom:0}\n',""])},function(e,t,n){var i=n(63);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,'.message-input{width:600px;min-height:40px;align-items:center;display:flex;justify-content:space-between}.text-input{align-items:center;flex:auto;position:relative;display:flex;flex-direction:row;justify-content:space-between;padding:5px 10px 5px 10px;background-color:#FFFFFF;margin-right:20px;border-radius:.5em .5em 0 .5em}.text-input:after{content:" ";position:absolute;right:-15px;border:20px solid transparent;border-left-color:#FFFFFF;border-right:0;border-bottom:0;bottom:0}.text-input__input{overflow-wrap:break-word;resize:none;flex:auto;word-wrap:break-word;word-break:break-all;border:0 solid transparent;margin:10px;width:470px;min-height:22px;outline:none}.voice-message{background-color:#4ea4f6;padding:5px;border-radius:1.5em;fill:#FFFFFF}.voice-message svg{opacity:1 !important}svg{width:24px;height:24px;opacity:.5}\n',""])},function(e,t,n){var i=n(65);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".chat-messages{display:flex;flex-direction:column-reverse;width:600px;min-height:800px}\n",""])},function(e,t,n){e.exports=n.p+"static/cameraicon.svg"},function(e,t,n){var i=n(68);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".register-page{display:flex;max-width:370px;flex-direction:column;align-items:center;margin:auto;margin-top:186px}.register-page__icon{width:160px;height:160px;display:flex;background:#4fa4f6;border-radius:80px}.register-page__icon img{margin:auto;vertical-align:middle;filter:invert(1);width:48px}.register-page__title{display:inline-block;margin-block-start:0;margin-block-end:0;margin-top:31px;font-size:30px}.register-page__description{display:inline-block;margin-top:13px;margin-bottom:0;max-width:230px;color:#6a6c6f;font-size:16px;font-weight:normal;line-height:1.4em;text-align:center}.register-page__name{margin-top:50px}.register-page__surname{margin-top:24px}.register-page__submit{margin-top:24px}\n",""])},function(e,t,n){e.exports=n.p+"static/close.svg"},function(e,t,n){e.exports=n.p+"static/check.svg"},function(e,t,n){var i=n(72);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(1)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".profile-image__paranja{position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.3)}.profile-image__pane{position:relative;margin:auto;background:white;border-radius:10px;width:500px;height:500px;top:calc(60% - 250px)}.profile-image__pane h3{position:absolute;top:15px;left:80px}.accept-button,.close-button{position:absolute;background:#4fa4f6;width:53px;height:53px;display:flex;border-radius:26px}.accept-button img,.close-button img{position:relative;margin:auto;vertical-align:middle;display:inline-block;filter:invert(1)}.accept-button{bottom:22px;right:20px}.close-button{top:2px;left:10px;background:transparent}.close-button img{filter:none}\n",""])},function(e,t,n){"use strict";n.r(t);n(19);var i=n(12),o=n.n(i),r=n(3),a=n.n(r);telegramApi.setConfig({app:{id:1166576,hash:"99db6db0082e27973ee4357e4637aadc",version:"0.0.1"},server:{test:[{id:2,host:"149.154.167.40",port:443}],production:[{id:2,host:"149.154.167.40",port:443}]}});class s{constructor(){a()(this,"_convertDate",e=>{const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let n=new Date(1e3*e);const i=new Date;return n=n.getDay()-i.getDay()==0?`${n.getHours()}:${n.getMinutes()}`:n.getDay()>(e=>{const t=e?new Date(e):new Date;t.setHours(0,0,0,0);const n=new Date(t);return n.setDate(1),n})(n)?t[n.getDay()]:(n=n.toLocaleDateString().replace(/[/]/g,".")).slice(0,6)+n.slice(8)}),a()(this,"spamMyself",async e=>{telegramApi.invokeApi("messages.sendMessage",{peer:{_:"inputPeerSelf"},message:e,random_id:Math.round(1e5*Math.random())})}),a()(this,"getDialogs",async e=>{const{result:t}=await telegramApi.getDialogs(0,e);console.log("CHATS",t);const{dialogs:n,messages:i,users:o}=t,r=[];return await i.forEach((e,t)=>{const{first_name:i,last_name:a,status:s}=o[t],{date:l}=e;r.push({title:i+" "+a,isOnline:"userStatusOnline"===s._,text:e.message,time:this._convertDate(l),unreadCount:n[t].unread_count,dialog_peer:n[t].peer})}),r.sort((e,t)=>e.time-t.time),console.log(r),r}),a()(this,"mapPeerToTruePeer",e=>{const t=e._;return"peerUser"===t?{...e,_:"inputPeerUser",user_id:e.user_id.toString()}:"peerChat"===t?{...e,_:"inputPeerChat",chat_id:e.chat_id.toString()}:"peerChannel"===t?{...e,_:"inputPeerChannel",channel_id:e.channel_id.toString()}:e}),a()(this,"getMessagesFromPeer",async(e,t=10)=>await telegramApi.invokeApi("messages.getHistory",{peer:this.mapPeerToTruePeer(e),limit:t}))}}var l=n(7);const p=e=>{const t="string"==typeof e?document.querySelector(e):e;return function(...e){t.addEventListener(...e)}},c=e=>{e.innerHTML="",e.classList.remove("loading")},d=e=>t=>{const n=document.createElement(e);return n.className=t,n},u=d("div");d("span");let g,m=[];const h=e=>{C();const t=e.replace(/\D/g,"").slice(0,15),n=Math.max(t.length-10,1),i=t.slice(0,n),o=t.slice(n);return o.length>=9?`+${i} ${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6,8)} ${o.slice(8)}`:o.length>=7?`+${i} ${o.slice(0,3)} ${o.slice(3,6)} ${o.slice(6)}`:o.length>=5?`+${i} ${o.slice(0,3)} ${o.slice(3)}`:o.length>=1?`+${i} ${o.slice(0)}`:`+${i}`},_=e=>{const t=e.target.value;t&&(e.target.value=h(t))},f=e=>(function(...t){document.querySelector(e).addEventListener(...t)}),x=e=>e.map(e=>`\n            <li class='popup-item'>\n                <span class='popup-item__flag'>${l[e.alpha]?l[e.alpha].emoji:"NONE"}</span>\n                <span class='popup-item__name'>${e.name}</span>\n                <span class='popup-item__code'>+ ${e.code}</span>\n            </li>\n        `).join(""),v=()=>{const e=document.getElementsByClassName("popup-item");Array.from(e,e=>e.addEventListener("click",e=>(e.stopPropagation(),(e=>{const t="LI"===e.target.tagName?e.target.querySelector(".popup-item__code").innerText:e.target.parentNode.querySelector(".popup-item__code").innerText,n="LI"===e.target.tagName?e.target.querySelector(".popup-item__name").innerText:e.target.parentNode.querySelector(".popup-item__name").innerText;document.querySelector(".login-form__phone").value=h(t),document.querySelector(".login-form__country").value=n,k()})(e))))},w=e=>{const t=e.toLowerCase();return m.filter(e=>e.name.toLowerCase().includes(t))},b=e=>{if(document.querySelector(".login-form__popup"))return;const t=document.createElement("ul");t.classList.add("login-form__popup"),t.classList.add("popup"),t.innerHTML=x(e.target.value?w(e.target.value):m),e.target.parentNode.appendChild(t),v()},y=e=>{const t=e.target.value;e.target.parentNode.querySelector(".login-form__popup").innerHTML=x(w(t)),v()},k=()=>{const e=document.querySelector(".login-form__popup");e&&e.remove()},C=()=>{document.querySelector(".login-form__phone").classList.contains("input-field_invalid")&&(document.querySelector(".login-form__phone").classList.remove("input-field_invalid"),document.querySelector(".login-form__phone ~ label").innerHTML="Phone")},L=()=>{const e=document.querySelector(".login-form__phone").value;if(!e||e.length<11)return document.querySelector(".login-form__phone").classList.add("input-field_invalid"),void(document.querySelector(".login-form__phone ~ label").innerHTML="Invalid phone");telegramApi.sendCode(e).then(t=>{telegramApi.sendSms(e,t.phone_code_hash,t.next_type).then(()=>{window.phone_code_hash=t.phone_code_hash,g("login_code",{phone:e})})})},S=new class{constructor(){a()(this,"_apiBase","https://restcountries.eu/rest/v2"),a()(this,"_transformCountry",e=>({flagUrl:e.flag,name:e.name,code:e.callingCodes[0],alpha:e.alpha2Code})),a()(this,"getResource",async e=>{const t=await fetch(`${this._apiBase}${e}`,{method:"GET"});if(!t.ok)throw new Error(`Couldn't fetch ${e}, received ${t.status}`);return t.json()}),a()(this,"getAllCountries",async()=>{return(await this.getResource("/all")).map(this._transformCountry)})}};var q=(e,t)=>{g=t,e.innerHTML=o.a;const n=f(".login-form__country");n("focus",b),f("body")("click",k),n("click",e=>{e.stopPropagation()}),n("input",y),f(".login-form__phone")("input",_),f(".login-form__submit")("click",()=>{L()}),window.updateRipple(),S.getAllCountries().then(e=>{m=e}),telegramApi.getUserInfo().then(e=>{e.id&&g("chat_page")}).catch(e=>{console.log(e)})},E=n(13),M=n.n(E),T=(n(38),n(2)),F=n(5),A=n.n(F);let $,D;const z=e=>{document.querySelector(".login-code__code").classList.contains("input-field_invalid")&&(document.querySelector(".login-code__code").classList.remove("input-field_invalid"),document.querySelector(".login-code__code ~ label").innerHTML="Code");const t=e.target.value,n=t.replace(/\D/g,"").slice(0,5);console.log(t,n),5===n.length&&telegramApi.signIn(D,window.phone_code_hash,n).then(e=>{"SESSION_PASSWORD_NEEDED"===e.type&&$("login_password"),$("chat_page")}).catch(e=>{"PHONE_NUMBER_UNOCCUPIED"===e.type?$("register_page",{phone:D,code:t}):"SESSION_PASSWORD_NEEDED"===e.type?$("login_password"):(document.querySelector(".login-code__code").classList.add("input-field_invalid"),document.querySelector(".login-code__code ~ label").innerHTML="Invalid Code",console.log(e))}),e.target.value=n},H=(e,t,n)=>()=>A.a.loadAnimation({container:document.querySelector(e),renderer:"svg",loop:n.loop||!1,autoplay:n.auto||!1,animationData:t}),N=(e,t)=>{window.current_animation.play(),window.current_animation.addEventListener("loopComplete",()=>{window.current_animation.destroy(),window.current_animation=e(),t&&window.current_animation.goToAndStop(t,!0)}),setTimeout(()=>{window.current_animation.destroy(),window.current_animation=e(),t&&window.current_animation.goToAndStop(t,!0)},500)},j=e=>{switch(e){case 0:return[0,15];case 1:return[15,30];case 2:return[30,45];case 3:return[45,60];case 4:return[60,75];case 5:return[75,90];case 6:return[90,100]}};let I=-1;var P=(e,t,n={})=>{e.innerHTML=M.a,$=t,D=n.phone,e.querySelector(".login-code__title").innerHTML=D;const i=H(".cd-tgsticker",T.idle,{auto:!0,loop:!0}),o=H(".cd-tgsticker",T.track,{auto:!1});window.current_animation=i();const r=(e=>(function(...t){document.querySelector(e).addEventListener(...t)}))(".login-code__code");r("focus",({target:e})=>{N(o,Math.max(e.value.length,1)+25)}),r("focusout",()=>{N(i)}),r("input",e=>{const t=e.target.value.length>I?j(e.target.value.length):j(e.target.value.length).reverse();window.current_animation.playSegments(t,!0),I=e.target.value.length}),r("input",z)},B=n(14),R=n.n(B);n(41);let O;const U={password:!0,closed:!1},Z=e=>(function(...t){document.querySelector(e).addEventListener(...t)}),J=(e,t,n)=>()=>A.a.loadAnimation({container:document.querySelector(e),renderer:"svg",loop:n.loop||!1,autoplay:n.auto||!1,animationData:t}),G=e=>{telegramApi.signIn2FA(e).then(e=>{console.log(e),O("chat_page")}).catch(e=>{console.log(e),document.querySelector(".login-password__password").classList.add("input-field_invalid"),document.querySelector(".login-password__password ~ label").value="Invalid Password"})};var W=(e,t)=>{e.innerHTML=R.a,O=t,window.current_animation=J(".cd-tgsticker",T.idle,{auto:!0,loop:!0})(),Z(".login-password__password")("input",()=>{document.querySelector(".login-password__password").classList.contains("input-field_invalid")&&(document.querySelector(".login-password__password").classList.remove("input-field_invalid"),document.querySelector(".login-password__password ~ label").innerHTML="Password")}),Z(".login-password__password")("focus",()=>{U.closed||((e=>{window.current_animation&&window.current_animation.destroy();const t=".cd-tgsticker";e?(window.current_animation=J(t,T.close_peek,{auto:!0})(),window.current_animation.playSegments([0,25],!0),window.current_animation.addEventListener("complete",()=>{window.current_animation.destroy(),window.current_animation=J(t,T.peek,{auto:!0})(),window.current_animation.goToAndStop(0,!0)})):(window.current_animation=J(t,T.close_peek,{auto:!0})(),window.current_animation.playSegments([25,0],!0),window.current_animation.addEventListener("complete",()=>{window.current_animation.destroy(),window.current_animation=J(t,T.idle,{auto:!0,loop:!0})()}))})(!0),U.closed=!0)}),Z(".login-password__submit")("click",()=>{G(document.querySelector(".login-password__password").value)}),Z(".login-password__eye")("click",()=>{document.querySelector(".login-password__password").setAttribute("type",U.password?"text":"password"),(e=>{window.current_animation&&window.current_animation.destroy();const t=".cd-tgsticker";e?(window.current_animation=J(t,T.peek,{auto:!0})(),window.current_animation.playSegments([20,32],!0)):(window.current_animation=J(t,T.peek,{auto:!0})(),window.current_animation.playSegments([32,20],!0))})(!U.password),U.password=!U.password,U.closed=!0}),window.updateRipple()},X=(n(43),n(45),n(47),n(49),n(15)),K=n.n(X),Y=(n(51),n(16)),Q=n.n(Y);const V=e=>{const t=document.getElementById("user-dialogs");t.data||(t.data=Array.from(t.children)),t.innerHTML="";const n=e.target.value.toLowerCase();Array.from(t.data.filter(e=>e.getAttribute("name").toLowerCase().includes(n)),e=>t.appendChild(e))},ee=()=>{const e=u("menu__search-wrapper"),t=u("menu__search-icon");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n\t<path fill-rule="nonzero" d="M9.5,3 C13.0898509,3 16,5.91014913 16,9.5 C16,10.9337106 15.5358211,12.2590065 14.7495478,13.3338028 L19.7071068,18.2928932 C20.0976311,18.6834175 20.0976311,19.3165825 19.7071068,19.7071068 C19.3466228,20.0675907 18.7793918,20.0953203 18.3871006,19.7902954 L18.2928932,19.7071068 L13.3338028,14.7495478 C12.2590065,15.5358211 10.9337106,16 9.5,16 C5.91014913,16 3,13.0898509 3,9.5 C3,5.91014913 5.91014913,3 9.5,3 Z M9.5,5 C7.01471863,5 5,7.01471863 5,9.5 C5,11.9852814 7.01471863,14 9.5,14 C11.9852814,14 14,11.9852814 14,9.5 C14,7.01471863 11.9852814,5 9.5,5 Z"/>\n</svg>\n';const n=((e,t,n)=>{const i=d("input")(t);return i.type=e,i.placeholder=n,i})("search","menu__search","Search");return e.appendChild(n),e.appendChild(t),p(n)("input",V),e};n(60),n(62),n(64);var te=async e=>{const t=u("chat-main"),n=u("status-info"),i=u("chat-messages"),o=(e=>{const t=u("message-input");t.innerHTML=(e=>`\n    <div class="text-input">\n        <div class="svg emoji-set">\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill-rule="nonzero" d="M12,1 C18.0751322,1 23,5.92486775 23,12 C23,18.0751322 18.0751322,23 12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 Z M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 Z M6.66607426,13.6501686 C7.13342047,13.4117012 7.7055954,13.5972442 7.94406273,14.0645904 C8.71613228,15.5776856 10.2710663,16.5499921 12,16.5499921 C13.7262991,16.5499921 15.2792455,15.5806677 16.0525854,14.0711462 C16.2918118,13.6041881 16.8642875,13.419575 17.3312456,13.6588014 C17.7982037,13.8980278 17.9828168,14.4705034 17.7435904,14.9374615 C16.6482438,17.0755242 14.4462205,18.4499921 12,18.4499921 C9.55003677,18.4499921 7.34521255,17.0713067 6.2516524,14.928157 C6.01318507,14.4608108 6.19872805,13.8886359 6.66607426,13.6501686 Z M8.75,8 C9.44035594,8 10,8.67157288 10,9.5 C10,10.3284271 9.44035594,11 8.75,11 C8.05964406,11 7.5,10.3284271 7.5,9.5 C7.5,8.67157288 8.05964406,8 8.75,8 Z M15.25,8 C15.9403559,8 16.5,8.67157288 16.5,9.5 C16.5,10.3284271 15.9403559,11 15.25,11 C14.5596441,11 14,10.3284271 14,9.5 C14,8.67157288 14.5596441,8 15.25,8 Z"/>\n</svg>\n</div>\n\n        <textarea name="text" class="text-input__input" placeholder="Message" cols="10" wrap="hard"></textarea>\n        <div class="svg attach-media">\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill-rule="nonzero" d="M11.657825,8.68730116 L7.89384699,12.5266719 C6.53977525,13.9078658 6.53979565,16.118605 7.89389288,17.4997739 C9.18119565,18.812813 11.2598788,18.8798255 12.6276396,17.6859428 L12.8071445,17.5177786 L19.3928802,10.8005213 C21.4766204,8.67512215 21.4766204,5.27313659 19.3928802,3.14773741 C17.4051081,1.12022499 14.1862843,1.0310006 12.0906645,2.90336495 L11.834659,3.14773741 L5.26671543,9.84699003 C2.45333216,12.7166196 2.45333216,17.3098454 5.26671543,20.179475 C7.96150749,22.9281424 12.3352577,23.0332941 15.1578204,20.4629606 L15.452067,20.1794113 L19.2160679,16.340063 C19.6027032,15.945688 19.596429,15.3125541 19.202054,14.9259188 C18.8076791,14.5392835 18.1745452,14.5455577 17.7879099,14.9399327 L13.9520378,18.8511531 C11.9281881,20.8353343 8.67903707,20.8031766 6.6948559,18.7793268 C4.64395201,16.6874204 4.64395201,13.3390446 6.6948559,11.2471382 L13.3088798,4.50180526 C14.6072848,3.22884976 16.6917843,3.24948061 17.9647398,4.54788555 C19.2860006,5.89556155 19.2860006,8.05269718 17.9647398,9.40037319 L11.3764629,16.119959 C10.803533,16.6816592 9.88373353,16.6725557 9.32203335,16.0996258 C8.73040544,15.4961698 8.73039653,14.5302606 9.3220133,13.9267937 L13.0859914,10.0874229 C13.4726243,9.6930457 13.4663463,9.05991185 13.0719691,8.67327889 C12.6775919,8.28664594 12.044458,8.29292392 11.657825,8.68730116 Z"/>\n</svg>\n</div>\n     </div>\n    <div class="svg voice-message">${e?'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill-rule="nonzero" d="M19,10 C19.5522847,10 20,10.4477153 20,11 C20,15.0792885 16.9468043,18.445465 13.0009551,18.9379871 L13,22 C13,22.5522847 12.5522847,23 12,23 C11.4871642,23 11.0644928,22.6139598 11.0067277,22.1166211 L11,22 L11.0000487,18.9381123 C7.05371356,18.4460359 4,15.0796344 4,11 C4,10.4477153 4.44771525,10 5,10 C5.55228475,10 6,10.4477153 6,11 C6,14.3137085 8.6862915,17 12,17 C15.3137085,17 18,14.3137085 18,11 C18,10.4477153 18.4477153,10 19,10 Z M12,2 C14.209139,2 16,3.790861 16,6 L16,11 C16,13.209139 14.209139,15 12,15 C9.790861,15 8,13.209139 8,11 L8,6 C8,3.790861 9.790861,2 12,2 Z"/>\n</svg>\n':'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill-rule="nonzero" d="M6.43800037,12.0002892 L6.13580063,11.9537056 C5.24777712,11.8168182 4.5354688,11.1477159 4.34335422,10.2699825 L2.98281085,4.05392998 C2.89811796,3.66698496 2.94471512,3.2628533 3.11524595,2.90533607 C3.53909521,2.01673772 4.60304421,1.63998415 5.49164255,2.06383341 L22.9496381,10.3910586 C23.3182476,10.5668802 23.6153089,10.8639388 23.7911339,11.2325467 C24.2149912,12.1211412 23.8382472,13.1850936 22.9496527,13.6089509 L5.49168111,21.9363579 C5.13415437,22.1068972 4.73000953,22.1534955 4.34305349,22.0687957 C3.38131558,21.8582835 2.77232686,20.907987 2.9828391,19.946249 L4.34336621,13.7305987 C4.53547362,12.8529444 5.24768451,12.1838819 6.1356181,12.0469283 L6.43800037,12.0002892 Z M5.03153725,4.06023585 L6.29710294,9.84235424 C6.31247211,9.91257291 6.36945677,9.96610109 6.44049865,9.97705209 L11.8982869,10.8183616 C12.5509191,10.9189638 12.9984278,11.5295809 12.8978255,12.182213 C12.818361,12.6977198 12.4138909,13.1022256 11.8983911,13.1817356 L6.44049037,14.0235549 C6.36945568,14.0345112 6.31247881,14.0880362 6.29711022,14.1582485 L5.03153725,19.9399547 L21.6772443,12.0000105 L5.03153725,4.06023585 Z"/>\n</svg>\n'}</div>\n`)(!0);t.querySelector("text-input__input");return t})();return t.append(n,i,o),await(e=>{return(new s).getMessagesFromPeer(e)})(e).then(e=>{e.messages.forEach(e=>{const{from_id:t,to_id:{user_id:n},message:o}=e,r=(({content:e,isIncoming:t})=>`<div class="bubble ${t?"incoming":"outgoing"}">${e}</div>`)({content:o,isIncoming:t!==n});i.insertAdjacentHTML("beforeEnd",r)}),console.log(e)}),t};const ne=e=>{console.log(e);const t=document.getElementById("right");(e=>{e.innerHTML="";const t=document.createElement("div");t.className="spinner",e.appendChild(t),e.classList.add("loading")})(t),te(e).then(e=>{c(t),t.appendChild(e)})},ie=()=>{const e=document.createElement("div");e.id="user-dialogs";const t=new s,n=document.getElementById("left");return t.getDialogs(2).then(t=>{t.map(t=>{const n=(e=>{var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild})((({avatar:e="https://pcentr.by/assets/images/users/7756f7da389c7a20eab610d826a25ec7.jpg",unreadCount:t,title:n,isOnline:i,text:o,time:r})=>`\n<div class="dialog" name="${n}"anim="ripple">\n    <div class="dialog__avatar-wrapper${i?" dialog__avatar_online":""}">\n        <img src="${e}" alt="avatar" class="dialog__avatar">\n    </div>\n    <div class="dialog__name">${n}</div>\n    <div class="dialog__short-msg">${o}</div>\n    <div class="dialog__time">${r}</div>\n    ${t>0?`<div class="dialog__unread-count">${t}</div>`:""}\n</div>`)(t)),{dialog_peer:i}=t;p(n)("click",()=>ne(i)),e.appendChild(n)});const n=document.getElementById("left");c(n),(e=>{const t=document.createElement("nav");t.className="menu",t.innerHTML=Q.a,t.appendChild(ee()),e.appendChild(t);const n=document.querySelector(".menu-list");p("#menu__checkbox")("click",()=>n.classList.toggle("hidden"))})(n),n.appendChild(e),window.updateRipple()}),n};var oe=e=>{e.innerHTML=K.a,ie(),setTimeout(()=>{document.getElementById("user-dialogs").childNodes[0].dispatchEvent(new Event("click"))},500)},re=n(17),ae=n.n(re),se=(n(67),n(18)),le=n.n(se);n(71);const pe=e=>(function(...t){document.querySelector(e).addEventListener(...t)});let ce,de,ue;const ge=()=>{const e=document.querySelector(".register-page__name").value,t=document.querySelector(".register-page__surname").value;e?telegramApi.signUp(de,window.phone_code_hash,ue,e,t).then(e=>{ce("chat_page")}).catch(e=>{console.log("ERROR: ",e)}):alert("Write name!")};var me=(e,t,n)=>{e.innerHTML=ae.a,de=n.phone,ue=n.code,ce=t,pe(".register-page__icon")("click",()=>{(e=>{const t=document.createElement("div");t.innerHTML=le.a,document.body.append(t),document.querySelector(".profile-image__paranja").addEventListener("click",t=>{t.target.remove(),e&&e()})})()}),pe(".register-page__submit")("click",ge)};const he=(e=>document.querySelector(e))(".root");let _e={history:["login"]};const fe=(e,...t)=>{(e=>(function(...t){const[n,i]=[_e,e(...t)];_e={...n,...i}}))(()=>({history:[..._e.history,e]}))(),(e=>{switch(e){case"login":return q;case"login_code":return P;case"login_password":return W;case"register_page":return me;case"chat_page":return oe;default:return()=>{throw new ReferenceError("No such page")}}})(e)(he,fe,...t)};var xe;window.updateRipple=()=>{[].map.call(document.querySelectorAll('[anim="ripple"]'),e=>{console.log(e),e.addEventListener("click",t=>{t=t.touches?t.touches[0]:t;const n=e.getBoundingClientRect(),i=2*Math.sqrt(Math.pow(n.width,2)+Math.pow(n.height,2));e.style.cssText="--s: 0; --o: 1;",e.offsetTop,e.style.cssText=`--t: 1; --o: 0; --d: ${i}; --x:${t.clientX-n.left}; --y:${t.clientY-n.top};`})})},xe=function(){q(he,fe)},document.addEventListener("DOMContentLoaded",xe)}],[[73,1,4,0]]]);
//# sourceMappingURL=index.bundle.js.map